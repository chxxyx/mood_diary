<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest Book</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/board.css">
    <!-- 폰트어썸 -->
    <script src="https://kit.fontawesome.com/3dd417ebad.js" crossorigin="anonymous"></script>
    <!-- 스와이퍼 -->
    <link  rel="stylesheet"  href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
    <!-- jquery UI -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    <script>
        let heartCount=255;
       let commentCount= 0;
    </script>
</head>
<body>
    <!-- ------nav----------------- -->
    <nav class="navbar bg-body-tertiary fixed-top" >
        <div class="container-fluid" >
          <a class="navbar-brand" href="./main-index.html" >
            <img  id="logo" class="mainlogo" src="../img/logo-color-title.png" alt="">
        </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header" >
              <h5 class="offcanvas-title" id="offcanvasNavbarLabel" >Mood Diary</h5>
              <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body" >
              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="./main-index.html">Calendar</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./diary.html">Diary</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./board.html">Guest Book</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./todolist.html">To Do List</a>
                </li>

              </ul>

            </div>
          </div>
        </div>
      </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>






    <!-- nav-------------------------------- -->
    <div class="checkParents">
    <i class="fa-regular fa-circle-check"></i>
</div>

    <div class="friends">Friends</div>
    
    <div class="main1">
        
    <div class="box1">
        <span id = "date2"></span>
        <div class="myTop">
            <div class="status">
                <div class="myName">Me</div>
                <!-- <span class="myMoodText">어제 내 기분</span> -->
            </div>
            <!-- <hr class="imgHr" /> -->
            <img class="myMoodImg" src="../img/angry.png" alt=""/>
            <!-- <hr /> -->
        </div>    
        <div class="myBot">
            <div class="myLike">
                <i class="fa-regular fa-heart redHeart2" ></i>
                <span id="count1">255
                </span>
                <i class="fa-regular fa-comment"></i>
                <span class="counta2">0</span>
            </div>
            <div class="myComment">
               
                
            </div>
           
        </div>
       










    </div>
   <!-- Slider main container -->
    <swiper-container class="mySwiper" effect="cards" grab-cursor="true">
        <swiper-slide>
            <div class="frCard">
                <div class="frName">채영</div>
                <div class="frImg">
                    <img class="imgs" src="../img/pleasure.png" alt="">
                </div>
                <div class="frBtn">
                    <div class="Good">
                       <span onclick="toggleHeart()"><i  class="fa-regular fa-heart heart" ></i></span>
                    </div>
                    <div id="pleasure" class="comment">
                        <i class="fa-solid fa-paper-plane boldplane"></i>
                    </div>
                </div>
            </div>
        </swiper-slide>
        <swiper-slide>
            <div class="frCard">
                <div class="frName">영경</div>
                <div class="frImg">
                    <img class="imgs" src="../img/proud.png" alt="">
                </div>
                <div class="frBtn">
                    <div class="Good">
                       <span onclick="toggleHeart()"><i class="fa-regular fa-heart heart" ></i></span>
                    </div>
                    <div id=pride class="comment">
                        <i class="fa-solid fa-paper-plane boldplane show1"></i>
                    </div>
                </div>
            </div>
        </swiper-slide>
        <swiper-slide>
            <div class="frCard">
                <div class="frName">아송</div>
                <div class="frImg">
                    <img class="imgs" src="../img/sad.png" alt="">
                </div>
                <div class="frBtn">
                    <div class="Good">
                       <span onclick="toggleHeart()"><i class="fa-regular fa-heart heart" ></i></span>
                    </div>
                    <div id="sad" class="comment show1">
                        <i class="fa-solid fa-paper-plane boldplane show1"></i>
                    </div>
                </div>
            </div>
        </swiper-slide>
        <swiper-slide>
            <div class="frCard">
                <div class="frName">민영</div>
                <div class="frImg">
                    <img class="imgs" src="../img/happy.png" alt="">
                </div>
                <div class="frBtn">
                    <div class="Good">
                       <span onclick="toggleHeart()"><i class="fa-regular fa-heart heart" ></i></span>
                    </div>
                    <div id="happy" class="comment show1">
                        <i class="fa-solid fa-paper-plane boldplane show1"></i>
                    </div>
                </div>
            </div>
        </swiper-slide>
        <swiper-slide>  <div class="frCard">
            <div class="frName">Me</div>
            <div class="frImg">
                <img class="imgs" src="../img/angry.png" alt="">
            </div>
            <div class="frBtn">
                <div class="Good">
                   <span onclick="toggleHeart()"><i id="myHeart" class="fa-regular fa-heart heart" ></i></span>
                </div>
                <div id="angry" class="comment">
                    <i class="fa-solid fa-paper-plane boldplane"></i>
                </div>
            </div>
        </div>
        </swiper-slide>
   
      </swiper-container>

      <script src="../js/board.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-element-bundle.min.js"></script>
      <!-- Slider main container -->
    </div>
   
    <!-- Modal -->

    
    <div class="background">
      <div class="window">
        <div class="popup">
            <div class="modalDiv">
                
                <i class="fa-solid fa-xmark close"></i>
                
                
                <textarea name="comment" id="comment" 
                maxlength="55" class="comment" placeholder="친구에게 댓글 남기기"></textarea>
                <hr />
                <!-- <button type="button" class="send">작성하기</button> -->
                <div class="circle">
                    <i class="fa-solid fa-paper-plane modalBoldPlane"></i>
                </div>
            </div>
        </div>
        <div>
          <div></div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <script>
 //modal

 function show1() {
    document.querySelector(".background").className = "background show1";
    document.querySelector(".modalDiv>.comment").value=""
  }

  function close() {
    document.querySelector(".background").className = "background";
    
  }
//modal호출
  document.getElementById("pleasure").addEventListener("click", show1);
  document.getElementById("pride").addEventListener("click", show1);
  document.getElementById("sad").addEventListener("click", show1);
  document.getElementById("happy").addEventListener("click", show1);
  document.getElementById("angry").addEventListener("click", show1);
  document.querySelector(".close").addEventListener("click", close);
  document.querySelector(".circle").addEventListener("click", close);
  
 
//보내졌을 때 ani 클래스를 추가하여 체크박스 애니메이션이 나타나도록
  $(".circle").on("click",function() { 
        if($("#comment").val() == "") {
            
        }else{
        $(".fa-circle-check").addClass("ani");
        console.log($("#comment").val())
    }})
    $(".boldplane").on("click",function(){
    $(".fa-circle-check").removeClass("ani");
  })

//하트 수 카운트하기
  $("#myHeart.heart").on("click",function() {
    if($("#myHeart").hasClass("heart")) {
        heartCount--;
    } else {
        heartCount++;
    }
    $("#count1").text(heartCount);
    });
    
    
   
   //보내기 버튼을 눌렀을 때 빈 내용이면 경고창, 아니면 텍스트 에어리어의 값을 댓글로 씀
   $(".circle").on("click",function(){
    let profileCmt = $("#comment").val();
    // let date = new Date()
    // let hour = date.getHours()
    // let minutes = date.getMinutes()
    if(profileCmt == ""){ alert("내용을 입력해주세요.")

    }else { 
   test2=`<table><th>닉네임</th><td class='counta'>${profileCmt}<span class="time">${date3}<span></td></table><hr class="commentHr" />`
    $(".myComment").prepend(test2)
    $(".counta2").text( $(".counta").length);
   }});
   let test2 =`<div><table><th>채영</th><td class='counta'>댓글을 남겼습니다.<span class="time">${date3}<span></td></table><hr class='commentHr'/><table><th>민영</th><td class='counta'>댓글을 남겼습니다.<span class="time">${date3}<span></table><hr class='commentHr'/></div>`;
   $(".myComment").prepend(test2);
       $(".counta").length;
       $(".counta2").text( $(".counta").length);
  

  
  </script>
</body>
</html>